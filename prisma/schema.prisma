
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") 
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        Int       @id @default(autoincrement())
  name      String
  email     String    @unique
  profile   Profile?
}

model Profile {
  id                    Int                @id @default(autoincrement())
  health                Int                @default(100)
  coins                 Int                @default(0)
  score                 Int                @default(0)
  level                 Int                @default(0)
  strengths             String
  weakness              String
  dailyGoals            DailyGoal[]
  longTermObjectives    LongTermObjective[]
  skillAreas            SkillArea[]
  goals                 Goal[]
  userId                Int                @unique
  user                  User               @relation(fields: [userId], references: [id])
}

model DailyGoal {
  id        Int    @id @default(autoincrement())
  name      String
  score     Int
  profileId Int
  profile   Profile @relation(fields: [profileId], references: [id])
}

model SkillArea {
  id          Int      @id @default(autoincrement())
  name        String
  dailyPoints Int
  streak      Int      @default(0)
  days        Int      @default(0)
  level       Int      @default(0)
  profileId   Int
  profile     Profile  @relation(fields: [profileId], references: [id])
}

model Task {
  id        Int    @id @default(autoincrement())
  name      String
  done      Boolean @default(false)
  deadline  String
  goalId    Int
  goal      SingleGoal @relation(fields: [goalId], references: [id])
}

model Goal {
  id          Int          @id @default(autoincrement())
  singleGoal  SingleGoal[]
  profileId   Int
  profile     Profile      @relation(fields: [profileId], references: [id])
}


model SingleGoal {
  id        Int    @id @default(autoincrement())
  name      String
  score     Int
  penalty   Int
  tasks     Task[]
  profileId Int
  goal   Goal  @relation(fields: [profileId], references: [id])
}


model LongTermObjective {
  id        Int    @id @default(autoincrement())
  name      String
  deadline  String
  score     Int
  profileId Int
  profile   Profile @relation(fields: [profileId], references: [id])
}
